---
layout: post
title: 오토에버 클라우드 2기 11일차
tags: ubuntu linux
image: "https://github.com/user-attachments/assets/8358fd98-7379-437a-b0d1-55fa75129df3"
---

윈도우에 버츄얼 머신과 우분투 서버 iso 파일을 다운 받고 버츄얼 머신을 먼저 실행한다 버츄얼 머신에서 우분투 서버이미지를 가지고 새로운 vm은 생성 *무인 설정 끄기* 

이러면 기본적으로 우분투서버가 vm에 설치 된다

&nbsp;

### 버츄얼머신의 우분투에 인터넷 연결하기

<center>
<img src="https://github.com/user-attachments/assets/8358fd98-7379-437a-b0d1-55fa75129df3" style="zoom:80%;">
</center>

버츄얼머신에서 해당 머신의 네트워크 연결 nat로 설정하면 연결이 된다(기본 설정 되어 있었음)

`sudo apt update`명령어로 인터넷 연결을 확인한다

&nbsp;

### ssh 접속 설정

ssh 설치 명령어 `sudo apt install openssh-server`

> 우분투에서 뭘 하기 전에 sudo apt update하는 이유는 최신 데이터를 가져오기 위해서
>
> apt vs apt-get의 차이는 apt가 더 신형이라 더 간편, 하지만 기능은 apt-get이 많다

ssh 실행 `sudo systemctl start ssh`

상태 보기 `sudo systemctl status ssh`

방화벽에서 ssh를 외부에서 사용할 수 있도록 개방 `sudo ufw allow ssh`

&nbsp;

버츄얼 박스에서 네트워크 선택 후 **포트포워딩**

<center>
<img src="https://github.com/user-attachments/assets/8358fd98-7379-437a-b0d1-55fa75129df3" style="zoom:80%;">
</center>

우분투에서 hostname -I  명령어를 이용해서 ip확인  10.0.2.15(아마도 기본값)

<center>
<img src="https://github.com/user-attachments/assets/8b3b0f9f-0aa7-47e3-897c-dc0676160d05" style="zoom:100%;">
</center>

윈도우에서 실제 ip주소확인 ipconfig

현재 노트북을 무선랜으로 접속하고 있기 때문에 그중에서 무선랜 어댑터를 확인한다 

<center>
<img src="https://github.com/user-attachments/assets/71f2383a-d0b9-41b7-a261-d6c549306d80" style="zoom:80%;">
</center>

위 정보들을 확인한 뒤 규칙을 생성한다

<center>
<img src="https://github.com/user-attachments/assets/9ba7a074-c9cb-41a4-abba-a634bbfc7081" style="zoom:80%;">
</center>

가상머신을 곳 ip가 호스트, 게스트가 버츄얼 박스의 ip이다

&nbsp;

### 접속

윈도우의 openSSH를 이용또는 wsl이용 난 wsl이 있어서 이것으로 연결

`ssh -p 12134 master1@192.168.200.110`으로 접속하면 된다 192 이부분은 127.0.0.1로는 안됐다

<center>
<img src="https://github.com/user-attachments/assets/0f3c941f-a262-4634-804b-f809d042b460" style="zoom:50%;">
</center>

현재 네트워크가 아마도 dhcp로 되어 있어서 네트워크가 변경되면 포트포워딩이 다시 필요하다

&nbsp;

### shell

사용자가 입력한 명령을 해석해서 커널로 전달, 처리결과를 사용자에게 전달하는 역할을 수랭

&nbsp;

### 프로프트

`master1@master1-vm:~$`

맨앞의 master1은 사용자 이름

그다은  master1-vm은 호스트 이름

~현대 디렉토리 경로인데 ~는 홈 디렉토리를 의미한다

$이면 일반 사용자 #이면 슈퍼 사용자이다

&nbsp;

#### 명령어 입력 방식

- 대화형으로 명령어를 입력하고 바로 결과를 확인
- 미리 파일에 명령어를 기록해두고 그 파일을 shell에 넘겨주는 스크립트 방식



#### 명령어 입력시 에러

- `ctrl + s` 화면 잠김 화면 잠금 해제는 `ctrl + q`
- 실행한 명령이 종료되지 않으면 `ctrl + c`
- 프롬프트의 문자가 깨지면 `ctrl + i`를 눌러서 클리어

&nbsp;

#### 명령어 구조

**형식**

- `명령어[옵션][인자]`
- 옵션은 명령의 세부 기능으로 `-` 또는 `--`으로 시작
- 옵션은 순서가 없고 여러 개 사용 가능함 
- 옵션 결합 가능 `-alp`

&nbsp;

### 로케일 설정

``` shell
locale
sudo apt install language-pack-ko
sudo update-locale LANG=ko_KR.UTF-8
sudo dpkg-reconfigure locales
```

`sudo dpkg-reconfigure locales`이것을 통해서 로케일을 ko_KR.UTF-8로 변경한다

재부팅을 해야 변경된 부분이 적용된다

&nbsp;

