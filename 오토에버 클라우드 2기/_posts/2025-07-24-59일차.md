---
layout: post
title: 오토에버 클라우드 2기 59일차
tags: aws s3
image: 'https://image.minnnningnas.duckdns.org/images/fda6fa54-49f2-4a5f-bdfc-eec0c08db5b9.webp'
---

## AWS S3를 이용한 정적 웹사이트 배포

AWS의 스토리지 서비스인 S3(Simple Storage Service)를 사용하여 서버 없이 간단한 정적 웹사이트를 배포할 수 있다

### 1. S3 버킷(Bucket) 생성하기

버킷은 파일을 저장하는 최상위 컨테이너(폴더)

1. **AWS Management Console**에 로그인하여 S3 서비스로 이동

2. **[버킷 만들기]** 버튼을 클릭

3. **버킷 이름**: 전 세계에서 유일한 이름으로 지정 일반적으로 웹사이트 도메인과 동일하게 만든다 (예: `minnnning-example-page.com`)
   <center><img src="https://image.minnnningnas.duckdns.org/images/6cd592a4-9c99-4559-b0b5-a2b0d230f4a0.webp" style="zoom:50%;"></center>

4. **AWS 리전**: 사용자에게 가장 가까운 리전을 선택하여 빠른 속도를 보장 (예: `ap-northeast-2` (서울))

5. **모든 퍼블릭 액세스 차단**의 **체크를 해제**합니다. 웹사이트는 인터넷의 모든 사용자가 접근할 수 있어야 하므로 퍼블릭 액세스를 허용. 경고 메시지를 확인하고 체크박스를 선택

   <center><img src="https://image.minnnningnas.duckdns.org/images/6fc66ea9-2c0e-4073-abf2-453b3b4d7ce4.webp" style="zoom:50%;"></center>

6. 나머지 설정은 기본값으로 두고 **[버킷 만들기]**를 클릭

&nbsp;

### 2. 정적 웹사이트 호스팅 활성화

생성한 버킷이 웹사이트처럼 동작하도록 설정을 변경해야 한다

1. 생성한 버킷의 이름을 클릭하여 세부 정보 페이지로 이동

2. **[속성]** 탭을 클릭하고, 페이지 하단으로 스크롤하여 **정적 웹 사이트 호스팅** 섹션의 **[편집]** 버튼을 클릭
   <center><img src="https://image.minnnningnas.duckdns.org/images/edb718df-7c4f-40a5-a70d-7dc558e3dff7.webp" style="zoom:50%;"></center>

3. **정적 웹 사이트 호스팅**을 **활성화**로 변경

4. **인덱스 문서**: 사용자가 웹사이트 주소로 접속했을 때 가장 먼저 보여줄 파일의 이름을 입력합니다. 일반적으로 `index.html`
   <center><img src="https://image.minnnningnas.duckdns.org/images/a73b2a56-73c7-457b-9f8d-f8bd5b897bd9.webp" style="zoom:50%;"></center>

5. **(선택 사항) 오류 문서**: 잘못된 경로로 접속했을 때 보여줄 오류 페이지의 이름을 입력 (예: `error.html`)

6. **[변경 사항 저장]**을 클릭합니다. 저장이 완료되면 이 섹션에 웹사이트 엔드포인트(URL)가 생성된다 이 주소가 바로 웹사이트의 주소이다

   <center><img src="https://image.minnnningnas.duckdns.org/images/6f064cfa-20fa-40af-8451-647455513c5c.webp" style="zoom:50%;"></center>

지금 접속한다면 403에러가 발생한다

<center><img src="https://image.minnnningnas.duckdns.org/images/af25aaa0-cb70-4e7c-81d1-e5552fbf1826.webp" style="zoom:50%;"></center>

&nbsp;

### 3. 버킷 정책(Bucket Policy) 설정으로 퍼블릭 읽기 권한 부여

웹사이트 호스팅을 활성화했더라도, 버킷 안의 파일들을 익명의 사용자가 읽을 수 있도록 명시적인 권한을 부여해야 한다

1. 버킷의 **[권한]** 탭으로 이동

2. **버킷 정책** 섹션에서 **[편집]** 버튼을 클릭

3. 정책 편집기에 아래의 JSON 코드를 넣는다 **`YOUR_BUCKET_NAME`** 부분은 실제 버킷 이름

   ```json
   {
       "Version": "2012-10-17",
       "Statement": [
           {
               "Sid": "PublicReadGetObject",
               "Effect": "Allow",
               "Principal": "*",
               "Action": "s3:GetObject",
               "Resource": "arn:aws:s3:::YOUR_BUCKET_NAME/*"
           }
       ]
   }
   ```

   - `"Effect": "Allow"`: 허용 정책
   - `"Principal": "*"`: 모든 사용자(익명 포함)를 의미
   - `"Action": "s3:GetObject"`: 버킷 내의 객체(파일)를 읽을 수 있는 권한
   - `"Resource": "arn:aws:s3:::YOUR_BUCKET_NAME/*"`: 이 정책이 적용될 범위를 지정 (해당 버킷의 모든 파일)

   <center><img src="https://image.minnnningnas.duckdns.org/images/808691da-1cec-4105-9ae6-147432a5583e.webp" style="zoom:50%;"></center>

&nbsp;

### 4. 웹사이트 파일 업로드하기

이제 웹사이트를 구성하는 파일(HTML, CSS, JavaScript 등)을 버킷에 업로드 해야한다

1. 간단한 `index.html` 파일을 준비 **`index.html` 예시:**

   ```html
   <!DOCTYPE html>
   <html>
   <head>
       <title>My S3 Website</title>
   </head>
   <body>
       <h1>Hello, S3!</h1>
       <p>This website is hosted on Amazon S3.</p>
   </body>
   </html>
   ```

2. 버킷의 **[객체]** 탭으로 이동

3. **[업로드]** 버튼을 클릭

4. **[파일 추가]**를 클릭하여 준비한 `index.html` 파일을 선택하거나, 파일을 브라우저 창으로 드래그 앤 드롭

5. **[업로드]** 버튼을 클릭하여 파일 업로드를 완료

<center><img src="https://image.minnnningnas.duckdns.org/images/bf24a1a3-3e6d-4527-9955-da7ce03b62c3.webp" style="zoom:50%;"></center>

&nbsp;

### 5. 웹사이트 접속 및 확인

브라우저에 `index.html` 파일의 내용이 정상적으로 표시되는지 확인한다

<center><img src="https://image.minnnningnas.duckdns.org/images/fda6fa54-49f2-4a5f-bdfc-eec0c08db5b9.webp" style="zoom:50%;"></center>
